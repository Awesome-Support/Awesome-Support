function stringToBool(t){return"true"===(t+"").toLowerCase()}function clearFileInput(t){if(t.value){try{t.value=""}catch(t){}var e,a,n;t.value&&(e=document.createElement("form"),a=t.parentNode,n=t.nextSibling,e.appendChild(t),e.reset(),a.insertBefore(t,n))}}!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Autolinker=e()}(this,function(){function h(t){this.urls=this.normalizeUrlsCfg((t=t||{}).urls),this.email="boolean"!=typeof t.email||t.email,this.twitter="boolean"!=typeof t.twitter||t.twitter,this.phone="boolean"!=typeof t.phone||t.phone,this.hashtag=t.hashtag||!1,this.newWindow="boolean"!=typeof t.newWindow||t.newWindow,this.stripPrefix="boolean"!=typeof t.stripPrefix||t.stripPrefix;var e=this.hashtag;if(!1!==e&&"twitter"!==e&&"facebook"!==e&&"instagram"!==e)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||"",this.replaceFn=t.replaceFn||null,this.htmlParser=null,this.matchers=null,this.tagBuilder=null}var t,e,a;return h.prototype={constructor:h,normalizeUrlsCfg:function(t){return"boolean"==typeof(t=null==t?!0:t)?{schemeMatches:t,wwwMatches:t,tldMatches:t}:{schemeMatches:"boolean"!=typeof t.schemeMatches||t.schemeMatches,wwwMatches:"boolean"!=typeof t.wwwMatches||t.wwwMatches,tldMatches:"boolean"!=typeof t.tldMatches||t.tldMatches}},normalizeTruncateCfg:function(t){return"number"==typeof t?{length:t,location:"end"}:h.Util.defaults(t||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(t){for(var e=this.getHtmlParser().parse(t),a=0,n=[],i=0,r=e.length;i<r;i++){var o=e[i],s=o.getType();"element"===s&&"a"===o.getTagName()?o.isClosing()?a=Math.max(a-1,0):a++:"text"===s&&0===a&&(o=this.parseText(o.getText(),o.getOffset()),n.push.apply(n,o))}return n=this.compactMatches(n),this.removeUnwantedMatches(n)},compactMatches:function(t){t.sort(function(t,e){return t.getOffset()-e.getOffset()});for(var e=0;e<t.length-1;e++)for(var a=t[e],n=a.getOffset()+a.getMatchedText().length;e+1<t.length&&t[e+1].getOffset()<=n;)t.splice(e+1,1);return t},removeUnwantedMatches:function(t){var e=h.Util.remove;return this.hashtag||e(t,function(t){return"hashtag"===t.getType()}),this.email||e(t,function(t){return"email"===t.getType()}),this.phone||e(t,function(t){return"phone"===t.getType()}),this.twitter||e(t,function(t){return"twitter"===t.getType()}),this.urls.schemeMatches||e(t,function(t){return"url"===t.getType()&&"scheme"===t.getUrlMatchType()}),this.urls.wwwMatches||e(t,function(t){return"url"===t.getType()&&"www"===t.getUrlMatchType()}),this.urls.tldMatches||e(t,function(t){return"url"===t.getType()&&"tld"===t.getUrlMatchType()}),t},parseText:function(t,e){e=e||0;for(var a=this.getMatchers(),n=[],i=0,r=a.length;i<r;i++){for(var o=a[i].parseMatches(t),s=0,l=o.length;s<l;s++)o[s].setOffset(e+o[s].getOffset());n.push.apply(n,o)}return n},link:function(t){if(!t)return"";for(var e=this.parse(t),a=[],n=0,i=0,r=e.length;i<r;i++){var o=e[i];a.push(t.substring(n,o.getOffset())),a.push(this.createMatchReturnVal(o)),n=o.getOffset()+o.getMatchedText().length}return a.push(t.substring(n)),a.join("")},createMatchReturnVal:function(t){var e;return"string"==typeof(e=this.replaceFn?this.replaceFn.call(this,this,t):e)?e:!1===e?t.getMatchedText():(e instanceof h.HtmlTag?e:t.buildTag()).toAnchorString()},getHtmlParser:function(){return this.htmlParser||(this.htmlParser=new h.htmlParser.HtmlParser)},getMatchers:function(){if(this.matchers)return this.matchers;var t=h.matcher,e=this.getTagBuilder(),e=[new t.Hashtag({tagBuilder:e,serviceName:this.hashtag}),new t.Email({tagBuilder:e}),new t.Phone({tagBuilder:e}),new t.Twitter({tagBuilder:e}),new t.Url({tagBuilder:e,stripPrefix:this.stripPrefix})];return this.matchers=e},getTagBuilder:function(){return this.tagBuilder||(this.tagBuilder=new h.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className}))}},h.link=function(t,e){return new h(e).link(t)},h.match={},h.matcher={},h.htmlParser={},h.truncate={},h.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},defaults:function(t,e){for(var a in e)e.hasOwnProperty(a)&&void 0===t[a]&&(t[a]=e[a]);return t},extend:function(t,e){var a=t.prototype,n=function(){};n.prototype=a;n=(t=e.hasOwnProperty("constructor")?e.constructor:function(){a.constructor.apply(this,arguments)}).prototype=new n;return n.constructor=t,n.superclass=a,delete e.constructor,h.Util.assign(n,e),t},ellipsis:function(t,e,a){return t=t.length>e?t.substring(0,e-(a=null==a?"..":a).length)+a:t},indexOf:function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var a=0,n=t.length;a<n;a++)if(t[a]===e)return a;return-1},remove:function(t,e){for(var a=t.length-1;0<=a;a--)!0===e(t[a])&&t.splice(a,1)},splitAndCapture:function(t,e){for(var a,n=[],i=0;a=e.exec(t);)n.push(t.substring(i,a.index)),n.push(a[0]),i=a.index+a[0].length;return n.push(t.substring(i)),n},trim:function(t){return t.replace(this.trimRegex,"")}},h.HtmlTag=h.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){h.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(t){return this.tagName=t,this},getTagName:function(){return this.tagName||""},setAttr:function(t,e){return this.getAttrs()[t]=e,this},getAttr:function(t){return this.getAttrs()[t]},setAttrs:function(t){var e=this.getAttrs();return h.Util.assign(e,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(t){return this.setAttr("class",t)},addClass:function(t){for(var e,a=this.getClass(),n=this.whitespaceRegex,i=h.Util.indexOf,r=a?a.split(n):[],o=t.split(n);e=o.shift();)-1===i(r,e)&&r.push(e);return this.getAttrs().class=r.join(" "),this},removeClass:function(t){for(var e,a=this.getClass(),n=this.whitespaceRegex,i=h.Util.indexOf,r=a?a.split(n):[],o=t.split(n);r.length&&(e=o.shift());){var s=i(r,e);-1!==s&&r.splice(s,1)}return this.getAttrs().class=r.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(t){return-1!==(" "+this.getClass()+" ").indexOf(" "+t+" ")},setInnerHtml:function(t){return this.innerHtml=t,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var t=this.getTagName(),e=this.buildAttrsStr();return["<",t,e=e?" "+e:"",">",this.getInnerHtml(),"</",t,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var t,e=this.getAttrs(),a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t+'="'+e[t]+'"');return a.join(" ")}}),h.RegexLib={alphaNumericCharsStr:a="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",domainNameRegex:new RegExp("["+a+".\\-]*["+a+"\\-]"),tldRegex:/(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|press|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/},h.AnchorTagBuilder=h.Util.extend(Object,{constructor:function(t){h.Util.assign(this,t)},build:function(t){return new h.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())})},createAttrs:function(t,e){e={href:e},t=this.createCssClass(t);return t&&(e.class=t),this.newWindow&&(e.target="_blank"),e},createCssClass:function(t){var e=this.className;return e?e+" "+e+"-"+t:""},processAnchorText:function(t){return this.doTruncate(t)},doTruncate:function(t){var e=this.truncate;if(!e)return t;var a=e.length,e=e.location;return"smart"===e?h.truncate.TruncateSmart(t,a,".."):"middle"===e?h.truncate.TruncateMiddle(t,a,".."):h.truncate.TruncateEnd(t,a,"..")}}),h.htmlParser.HtmlParser=h.Util.extend(Object,{htmlRegex:(e=/[^\s\0"'>\/=\x01-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+(t=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/).source+")?",new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",e,"|",t.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+/[0-9a-zA-Z][0-9a-zA-Z:]*/.source+")","(?:","\\s*",e,")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(t){for(var e,a,n=this.htmlRegex,i=0,r=[];null!==(h=n.exec(t));){var o=h[0],s=h[3],l=h[1]||h[4],c=!!h[2],d=h.index,h=t.substring(i,d);h&&(e=this.parseTextAndEntityNodes(i,h),r.push.apply(r,e)),s?r.push(this.createCommentNode(d,o,s)):r.push(this.createElementNode(d,o,l,c)),i=d+o.length}return i<t.length&&((a=t.substring(i))&&(e=this.parseTextAndEntityNodes(i,a),r.push.apply(r,e))),r},parseTextAndEntityNodes:function(t,e){for(var a=[],n=h.Util.splitAndCapture(e,this.htmlCharacterEntitiesRegex),i=0,r=n.length;i<r;i+=2){var o=n[i],s=n[i+1];o&&(a.push(this.createTextNode(t,o)),t+=o.length),s&&(a.push(this.createEntityNode(t,s)),t+=s.length)}return a},createCommentNode:function(t,e,a){return new h.htmlParser.CommentNode({offset:t,text:e,comment:h.Util.trim(a)})},createElementNode:function(t,e,a,n){return new h.htmlParser.ElementNode({offset:t,text:e,tagName:a.toLowerCase(),closing:n})},createEntityNode:function(t,e){return new h.htmlParser.EntityNode({offset:t,text:e})},createTextNode:function(t,e){return new h.htmlParser.TextNode({offset:t,text:e})}}),h.htmlParser.HtmlNode=h.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(t){h.Util.assign(this,t)},getType:h.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),h.htmlParser.CommentNode=h.Util.extend(h.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),h.htmlParser.ElementNode=h.Util.extend(h.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),h.htmlParser.EntityNode=h.Util.extend(h.htmlParser.HtmlNode,{getType:function(){return"entity"}}),h.htmlParser.TextNode=h.Util.extend(h.htmlParser.HtmlNode,{getType:function(){return"text"}}),h.match.Match=h.Util.extend(Object,{constructor:function(t){this.tagBuilder=t.tagBuilder,this.matchedText=t.matchedText,this.offset=t.offset},getType:h.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(t){this.offset=t},getOffset:function(){return this.offset},getAnchorHref:h.Util.abstractMethod,getAnchorText:h.Util.abstractMethod,buildTag:function(){return this.tagBuilder.build(this)}}),h.match.Email=h.Util.extend(h.match.Match,{constructor:function(t){h.match.Match.prototype.constructor.call(this,t),this.email=t.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),h.match.Hashtag=h.Util.extend(h.match.Match,{constructor:function(t){h.match.Match.prototype.constructor.call(this,t),this.serviceName=t.serviceName,this.hashtag=t.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var t=this.serviceName,e=this.hashtag;switch(t){case"twitter":return"https://twitter.com/hashtag/"+e;case"facebook":return"https://www.facebook.com/hashtag/"+e;case"instagram":return"https://instagram.com/explore/tags/"+e;default:throw new Error("Unknown service name to point hashtag to: ",t)}},getAnchorText:function(){return"#"+this.hashtag}}),h.match.Phone=h.Util.extend(h.match.Match,{constructor:function(t){h.match.Match.prototype.constructor.call(this,t),this.number=t.number,this.plusSign=t.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),h.match.Twitter=h.Util.extend(h.match.Match,{constructor:function(t){h.match.Match.prototype.constructor.call(this,t),this.twitterHandle=t.twitterHandle},getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),h.match.Url=h.Util.extend(h.match.Match,{constructor:function(t){h.match.Match.prototype.constructor.call(this,t),this.urlMatchType=t.urlMatchType,this.url=t.url,this.protocolUrlMatch=t.protocolUrlMatch,this.protocolRelativeMatch=t.protocolRelativeMatch,this.stripPrefix=t.stripPrefix},urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var t=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(t=this.url="http://"+t,this.protocolPrepended=!0),t},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var t=this.getMatchedText();return this.protocolRelativeMatch&&(t=this.stripProtocolRelativePrefix(t)),this.stripPrefix&&(t=this.stripUrlPrefix(t)),this.removeTrailingSlash(t)},stripUrlPrefix:function(t){return t.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(t){return t.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(t){return t="/"===t.charAt(t.length-1)?t.slice(0,-1):t}}),h.matcher.Matcher=h.Util.extend(Object,{constructor:function(t){this.tagBuilder=t.tagBuilder},parseMatches:h.Util.abstractMethod}),h.matcher.Email=h.Util.extend(h.matcher.Matcher,{matcherRegex:(a=h.RegexLib.alphaNumericCharsStr,t=new RegExp("["+a+"\\-;:&=+$.,]+@"),e=h.RegexLib.domainNameRegex,a=h.RegexLib.tldRegex,new RegExp([t.source,e.source,"\\.",a.source].join(""),"gi")),parseMatches:function(t){for(var e,a=this.matcherRegex,n=this.tagBuilder,i=[];null!==(e=a.exec(t));){var r=e[0];i.push(new h.match.Email({tagBuilder:n,matchedText:r,offset:e.index,email:r}))}return i}}),h.matcher.Hashtag=h.Util.extend(h.matcher.Matcher,{matcherRegex:new RegExp("#[_"+h.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+h.RegexLib.alphaNumericCharsStr+"]"),constructor:function(t){h.matcher.Matcher.prototype.constructor.call(this,t),this.serviceName=t.serviceName},parseMatches:function(t){for(var e=this.matcherRegex,a=this.nonWordCharRegex,n=this.serviceName,i=this.tagBuilder,r=[];null!==(o=e.exec(t));){var o,s=o.index,l=t.charAt(s-1);0!==s&&!a.test(l)||(l=o[0],o=o[0].slice(1),r.push(new h.match.Hashtag({tagBuilder:i,matchedText:l,offset:s,serviceName:n,hashtag:o})))}return r}}),h.matcher.Phone=h.Util.extend(h.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.])?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]\d{4}/g,parseMatches:function(t){for(var e,a=this.matcherRegex,n=this.tagBuilder,i=[];null!==(e=a.exec(t));){var r=e[0],o=r.replace(/\D/g,""),s=!!e[1];i.push(new h.match.Phone({tagBuilder:n,matchedText:r,offset:e.index,number:o,plusSign:s}))}return i}}),h.matcher.Twitter=h.Util.extend(h.matcher.Matcher,{matcherRegex:new RegExp("@[_"+h.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),nonWordCharRegex:new RegExp("[^"+h.RegexLib.alphaNumericCharsStr+"]"),parseMatches:function(t){for(var e=this.matcherRegex,a=this.nonWordCharRegex,n=this.tagBuilder,i=[];null!==(r=e.exec(t));){var r,o=r.index,s=t.charAt(o-1);0!==o&&!a.test(s)||(s=r[0],r=r[0].slice(1),i.push(new h.match.Twitter({tagBuilder:n,matchedText:s,offset:o,twitterHandle:r})))}return i}}),h.matcher.Url=h.Util.extend(h.matcher.Matcher,{matcherRegex:(t=h.RegexLib.domainNameRegex,e=h.RegexLib.tldRegex,a=h.RegexLib.alphaNumericCharsStr,a=new RegExp("["+a+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;]*["+a+"\\-+&@#/%=~_()|'$*\\[\\]]"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,t.source,")","|","(","(//)?",/(?:www\.)/.source,t.source,")","|","(","(//)?",t.source+"\\.",e.source,")",")","(?:"+a.source+")?"].join(""),"gi")),wordCharRegExp:/\w/,openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(t){h.matcher.Matcher.prototype.constructor.call(this,t),this.stripPrefix=t.stripPrefix},parseMatches:function(t){for(var e=this.matcherRegex,a=this.stripPrefix,n=this.tagBuilder,i=[];null!==(d=e.exec(t));){var r=d[0],o=d[1],s=d[2],l=d[3],c=d[5],d=d.index,l=l||c,c=t.charAt(d-1);h.matcher.UrlMatchValidator.isValid(r,o)&&!(0<d&&"@"===c||0<d&&l&&this.wordCharRegExp.test(c))&&(this.matchHasUnbalancedClosingParen(r)?r=r.substr(0,r.length-1):-1<(c=this.matchHasInvalidCharAfterTld(r,o))&&(r=r.substr(0,c)),i.push(new h.match.Url({tagBuilder:n,matchedText:r,offset:d,urlMatchType:o?"scheme":s?"www":"tld",url:r,protocolUrlMatch:!!o,protocolRelativeMatch:!!l,stripPrefix:a})))}return i},matchHasUnbalancedClosingParen:function(t){if(")"===t.charAt(t.length-1)){var e=t.match(this.openParensRe),t=t.match(this.closeParensRe);if((e&&e.length||0)<(t&&t.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(t,e){if(!t)return-1;var a=0;e&&(a=t.indexOf(":"),t=t.slice(a));e=/^((.?\/\/)?[A-Za-z0-9\u00C0-\u017F\.\-]*[A-Za-z0-9\u00C0-\u017F\-]\.[A-Za-z]+)/.exec(t);return null===e?-1:(a+=e[1].length,t=t.slice(e[1].length),/^[^.A-Za-z:\/?#]/.test(t)?a:-1)}}),h.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z\u00C0-\u017F]/,isValid:function(t,e){return!(e&&!this.isValidUriScheme(e)||this.urlMatchDoesNotHaveProtocolOrDot(t,e)||this.urlMatchDoesNotHaveAtLeastOneWordChar(t,e))},isValidUriScheme:function(t){t=t.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(t,e){return!(!t||e&&this.hasFullProtocolRegex.test(e)||-1!==t.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(t,e){return!(!t||!e)&&!this.hasWordCharAfterProtocolRegex.test(t)}},h.truncate.TruncateEnd=function(t,e,a){return h.Util.ellipsis(t,e,a)},h.truncate.TruncateMiddle=function(t,e,a){if(t.length<=e)return t;var n=e-a.length,i="";return 0<n&&(i=t.substr(-1*Math.floor(n/2))),(t.substr(0,Math.ceil(n/2))+a+i).substr(0,e)},h.truncate.TruncateSmart=function(t,e,i){function a(t,e){var a=e/2,n=Math.ceil(a),e=-1*Math.floor(a),a="";return e<0&&(a=t.substr(e)),t.substr(0,n)+i+a}var n=function(t){var e="";return t.scheme&&t.host&&(e+=t.scheme+"://"),t.host&&(e+=t.host),t.path&&(e+="/"+t.path),t.query&&(e+="?"+t.query),t.fragment&&(e+="#"+t.fragment),e};if(t.length<=e)return t;var r,o,s,l=e-i.length,c=(o={},(r=(s=r=t).match(/^([a-z]+):\/\//i))&&(o.scheme=r[1],s=s.substr(r[0].length)),(r=s.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(o.host=r[1],s=s.substr(r[0].length)),(r=s.match(/^\/(.*?)(?=(\?|#|$))/i))&&(o.path=r[1],s=s.substr(r[0].length)),(r=s.match(/^\?(.*?)(?=(#|$))/i))&&(o.query=r[1],s=s.substr(r[0].length)),(r=s.match(/^#(.*?)$/i))&&(o.fragment=r[1]),o);if(!c.query||(d=c.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i))&&(c.query=c.query.substr(0,d[1].length),t=n(c)),t.length<=e)return t;if(c.host&&(c.host=c.host.replace(/^www\./,""),t=n(c)),t.length<=e)return t;var d="";if(c.host&&(d+=c.host),d.length>=l)return(c.host.length==e?c.host.substr(0,e-i.length)+i:a(d,l)).substr(0,e);n="";if(c.path&&(n+="/"+c.path),c.query&&(n+="?"+c.query),n){if(l<=(d+n).length)return(d+n).length==e?(d+n).substr(0,e):(d+a(n,l-d.length)).substr(0,e);d+=n}if(c.fragment){n="#"+c.fragment;if(l<=(d+n).length)return(d+n).length==e?(d+n).substr(0,e):(d+a(n,l-d.length)).substr(0,e);d+=n}if(c.scheme&&c.host){var h=c.scheme+"://";if((d+h).length<l)return(h+d).substr(0,e)}if(d.length<=e)return d;h="";return 0<l&&(h=d.substr(-1*Math.floor(l/2))),(d.substr(0,Math.ceil(l/2))+i+h).substr(0,e)},h}),function(c){"use strict";function n(t,e){if(!(this instanceof n)){var a=new n(t,e);return a.open(),a}this.id=n.id++,this.setup(t,e),this.chainCallbacks(n._callbackChain)}if(void 0===c)return"console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery.");function i(e){return o=c.grep(o,function(t){return t!==e&&0<t.$instance.closest("body").length})}function a(t){c.each(n.opened().reverse(),function(){return t.isDefaultPrevented()||!1!==this[s[t.type]](t)?void 0:(t.preventDefault(),t.stopPropagation(),!1)})}function r(t){var e;t!==n._globalHandlerInstalled&&(n._globalHandlerInstalled=t,e=c.map(s,function(t,e){return e+"."+n.prototype.namespace}).join(" "),c(window)[t?"on":"off"](e,a))}var o=[],s={keyup:"onKeyUp",resize:"onResize"};n.prototype={constructor:n,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:c.noop,beforeContent:c.noop,beforeClose:c.noop,afterOpen:c.noop,afterContent:c.noop,afterClose:c.noop,onKeyUp:c.noop,onResize:c.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(t,e){"object"!=typeof t||t instanceof c!=0||e||(e=t,t=void 0);var a=c.extend(this,e,{target:t}),t=a.resetCss?a.namespace+"-reset":a.namespace,t=c(a.background||['<div class="'+t+"-loading "+t+'">','<div class="'+t+'-content">','<span class="'+t+"-close-icon "+a.namespace+'-close">',a.closeIcon,"</span>",'<div class="'+a.namespace+'-inner">'+a.loading+"</div>","</div>","</div>"].join("")),n="."+a.namespace+"-close"+(a.otherClose?","+a.otherClose:"");return a.$instance=t.clone().addClass(a.variant),a.$instance.on(a.closeTrigger+"."+a.namespace,function(t){var e=c(t.target);("background"===a.closeOnClick&&e.is("."+a.namespace)||"anywhere"===a.closeOnClick||e.closest(n).length)&&(a.close(t),t.preventDefault())}),this},getContent:function(){if(!1!==this.persist&&this.$content)return this.$content;function t(t){return e.$currentTarget&&e.$currentTarget.attr(t)}var e=this,a=this.constructor.contentFilters,n=t(e.targetAttr),i=e.target||n||"",r=a[e.type];if(!r&&i in a&&(r=a[i],i=e.target&&n),i=i||t("href")||"",!r)for(var o in a)e[o]&&(r=a[o],i=e[o]);if(!r){var s=i,i=null;if(c.each(e.contentFilters,function(){return r=a[this],!(i=!(i=r.test?r.test(s):i)&&r.regex&&s.match&&s.match(r.regex)?s:i)}),!i)return"console"in window&&window.console.error("Featherlight: no content filter found "+(s?' for "'+s+'"':" (no target specified)")),!1}return r.process.call(e,i)},setContent:function(t){var e=this;return(t.is("iframe")||0<c("iframe",t).length)&&e.$instance.addClass(e.namespace+"-iframe"),e.$instance.removeClass(e.namespace+"-loading"),e.$instance.find("."+e.namespace+"-inner").not(t).slice(1).remove().end().replaceWith(c.contains(e.$instance[0],t[0])?"":t),e.$content=t.addClass(e.namespace+"-inner"),e},open:function(e){var a=this;if(a.$instance.hide().appendTo(a.root),!(e&&e.isDefaultPrevented()||!1===a.beforeOpen(e))){e&&e.preventDefault();var t=a.getContent();if(t)return o.push(a),r(!0),a.$instance.fadeIn(a.openSpeed),a.beforeContent(e),c.when(t).always(function(t){a.setContent(t),a.afterContent(e)}).then(a.$instance.promise()).done(function(){a.afterOpen(e)})}return a.$instance.detach(),c.Deferred().reject().promise()},close:function(t){var e=this,a=c.Deferred();return!1===e.beforeClose(t)?a.reject():(0===i(e).length&&r(!1),e.$instance.fadeOut(e.closeSpeed,function(){e.$instance.detach(),e.afterClose(t),a.resolve()})),a.promise()},resize:function(t,e){var a;t&&e&&(this.$content.css("width","").css("height",""),1<(a=Math.max(t/parseInt(this.$content.parent().css("width"),10),e/parseInt(this.$content.parent().css("height"),10)))&&this.$content.css("width",t/a+"px").css("height",e/a+"px"))},chainCallbacks:function(t){for(var e in t)this[e]=c.proxy(t[e],this,c.proxy(this[e],this))}},c.extend(n,{id:0,autoBind:"[data-featherlight]",defaults:n.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof c&&t},process:function(t){return!1!==this.persist?c(t):c(t).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(t){var e=c.Deferred(),a=new Image,n=c('<img src="'+t+'" alt="" class="'+this.namespace+'-image" />');return a.onload=function(){n.naturalWidth=a.width,n.naturalHeight=a.height,e.resolve(n)},a.onerror=function(){e.reject(n)},a.src=t,e.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return c(t)}},ajax:{regex:/./,process:function(t){var a=c.Deferred(),n=c("<div></div>").load(t,function(t,e){"error"!==e&&a.resolve(n.contents()),a.fail()});return a.promise()}},iframe:{process:function(t){var e=new c.Deferred,a=c("<iframe/>").hide().attr("src",t).css(function(t,e){var a,n={},i=new RegExp("^"+e+"([A-Z])(.*)");for(a in t){var r=a.match(i);r&&(n[(r[1]+r[2].replace(/([A-Z])/g,"-$1")).toLowerCase()]=t[a])}return n}(this,"iframe")).on("load",function(){e.resolve(a.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return e.promise()}},text:{process:function(t){return c("<div>",{text:t})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(t,e){var a=this,n=new RegExp("^data-"+e+"-(.*)"),i={};return t&&t.attributes&&c.each(t.attributes,function(){var t=this.name.match(n);if(t){var e=this.value,t=c.camelCase(t[1]);if(0<=c.inArray(t,a.functionAttributes))e=new Function(e);else try{e=c.parseJSON(e)}catch(t){}i[t]=e}}),i},extend:function(t,e){function a(){this.constructor=t}return a.prototype=this.prototype,t.prototype=new a,t.__super__=this.prototype,c.extend(t,this,e),t.defaults=t.prototype,t},attach:function(n,i,r){var o=this;"object"!=typeof i||i instanceof c!=0||r||(r=i,i=void 0);var s,t=(r=c.extend({},r)).namespace||o.defaults.namespace,l=c.extend({},o.defaults,o.readElementConfig(n[0],t),r);return n.on(l.openTrigger+"."+l.namespace,l.filter,function(t){var e=c.extend({$source:n,$currentTarget:c(this)},o.readElementConfig(n[0],l.namespace),o.readElementConfig(this,l.namespace),r),a=s||c(this).data("featherlight-persisted")||new o(i,e);"shared"===a.persist?s=a:!1!==a.persist&&c(this).data("featherlight-persisted",a),e.$currentTarget.blur(),a.open(t)}),n},current:function(){var t=this.opened();return t[t.length-1]||null},opened:function(){var e=this;return i(),c.grep(o,function(t){return t instanceof e})},close:function(t){var e=this.current();return e?e.close(t):void 0},_onReady:function(){var e=this;e.autoBind&&(c(e.autoBind).each(function(){e.attach(c(this))}),c(document).on("click",e.autoBind,function(t){t.isDefaultPrevented()||"featherlight"===t.namespace||(t.preventDefault(),e.attach(c(t.currentTarget)),c(t.target).trigger("click.featherlight"))}))},_callbackChain:{onKeyUp:function(t,e){return 27===e.keyCode?(this.closeOnEsc&&c.featherlight.close(e),!1):t(e)},onResize:function(t,e){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),t(e)},afterContent:function(t,e){t=t(e);return this.onResize(e),t}}}),c.featherlight=n,c.fn.featherlight=function(t,e){return n.attach(this,t,e)},c(document).ready(function(){n._onReady()})}(jQuery),function(m,i){function n(){var a=this;a.id=null,a.busy=!1,a.start=function(t,e){a.busy||(a.stop(),a.id=setTimeout(function(){t(),a.id=null,a.busy=!1},e),a.busy=!0)},a.stop=function(){null!==a.id&&(clearTimeout(a.id),a.id=null,a.busy=!1)}}function a(t,e,a){var u=this;u.id=a,u.table=t,u.options=e,u.breakpoints=[],u.breakpointNames="",u.columns={},u.plugins=i.footable.plugins.load(u);var p=u.options,s=p.classes,f=p.events,c=p.triggers,g=0;return u.timers={resize:new n,register:function(t){return u.timers[t]=new n,u.timers[t]}},u.init=function(){var t=m(i),e=m(u.table);if(i.footable.plugins.init(u),e.hasClass(s.loaded))u.raise(f.alreadyInitialized);else{for(var a in u.raise(f.initializing),e.addClass(s.loading),e.find(p.columnDataSelector).each(function(){var t=u.getColumnData(this);u.columns[t.index]=t}),p.breakpoints)u.breakpoints.push({name:a,width:p.breakpoints[a]}),u.breakpointNames+=a+" ";u.breakpoints.sort(function(t,e){return t.width-e.width}),e.unbind(c.initialize).bind(c.initialize,function(){e.removeData("footable_info"),e.data("breakpoint",""),e.trigger(c.resize),e.removeClass(s.loading),e.addClass(s.loaded).addClass(s.main),u.raise(f.initialized)}).unbind(c.redraw).bind(c.redraw,function(){u.redraw()}).unbind(c.resize).bind(c.resize,function(){u.resize()}).unbind(c.expandFirstRow).bind(c.expandFirstRow,function(){e.find(p.toggleSelector).first().not("."+s.detailShow).trigger(c.toggleRow)}).unbind(c.expandAll).bind(c.expandAll,function(){e.find(p.toggleSelector).not("."+s.detailShow).trigger(c.toggleRow)}).unbind(c.collapseAll).bind(c.collapseAll,function(){e.find("."+s.detailShow).trigger(c.toggleRow)}),e.trigger(c.initialize),t.bind("resize.footable",function(){u.timers.resize.stop(),u.timers.resize.start(function(){u.raise(c.resize)},p.delay)})}},u.addRowToggle=function(){if(p.addRowToggle){var t,e=m(u.table),a=!1;for(t in e.find("span."+s.toggle).remove(),u.columns){var n=u.columns[t];if(n.toggle){a=!0,n="> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:nth-child("+(parseInt(n.index,10)+1)+"),> tbody > tr:not(."+s.detail+",."+s.disabled+") > th:nth-child("+(parseInt(n.index,10)+1)+")";return void e.find(n).not("."+s.detailCell).prepend(m(p.toggleHTMLElement).addClass(s.toggle))}}a||e.find("> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:first-child").add("> tbody > tr:not(."+s.detail+",."+s.disabled+") > th:first-child").not("."+s.detailCell).prepend(m(p.toggleHTMLElement).addClass(s.toggle))}},u.setColumnClasses=function(){var t,e=m(u.table);for(t in u.columns){var a,n,i=u.columns[t];null!==i.className&&(n=!(a=""),m.each(i.matches,function(t,e){n||(a+=", "),a+="> tbody > tr:not(."+s.detail+") > td:nth-child("+(parseInt(e,10)+1)+")",n=!1}),e.find(a).not("."+s.detailCell).addClass(i.className))}},u.bindToggleSelectors=function(){var e=m(u.table);u.hasAnyBreakpointColumn()&&(e.find(p.toggleSelector).unbind(c.toggleRow).bind(c.toggleRow,function(){var t=m(this).is("tr")?m(this):m(this).parents("tr:first");u.toggleDetail(t)}),e.find(p.toggleSelector).unbind("click.footable").bind("click.footable",function(t){e.is(".breakpoint")&&m(t.target).is("td,th,."+s.toggle)&&m(this).trigger(c.toggleRow)}))},u.parse=function(t,e){return(p.parsers[e.type]||p.parsers.alpha)(t)},u.getColumnData=function(t){var e=m(t),a=e.data("hide"),n=e.index(),a=a||"";a=jQuery.map(a.split(","),function(t){return jQuery.trim(t)});var i={index:n,hide:{},type:e.data("type")||"alpha",name:e.data("name")||m.trim(e.text()),ignore:e.data("ignore")||!1,toggle:e.data("toggle")||!1,className:e.data("class")||null,matches:[],names:{},group:e.data("group")||null,groupName:null,isEditable:e.data("editable")};null!==i.group&&(r=m(u.table).find('> thead > tr.footable-group-row > th[data-group="'+i.group+'"], > thead > tr.footable-group-row > td[data-group="'+i.group+'"]').first(),i.groupName=u.parse(r,{type:"alpha"}));var r=parseInt(e.prev().attr("colspan")||0,10);g+=1<r?r-1:0;var o=parseInt(e.attr("colspan")||0,10),s=i.index+g;if(1<o){var l=e.data("names");l=(l=l||"").split(",");for(var c=0;c<o;c++)i.matches.push(c+s),l.length>c&&(i.names[c+s]=l[c])}else i.matches.push(s);i.hide.default="all"===e.data("hide")||0<=m.inArray("default",a);var d,h=!1;for(d in p.breakpoints)i.hide[d]="all"===e.data("hide")||0<=m.inArray(d,a),h=h||i.hide[d];return i.hasBreakpoint=h,u.raise(f.columnData,{column:{data:i,th:t}}).column.data},u.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},u.calculateWidth=function(t,e){return jQuery.isFunction(p.calculateWidthOverride)?p.calculateWidthOverride(t,e):(e.viewportWidth<e.width&&(e.width=e.viewportWidth),e.parentWidth<e.width&&(e.width=e.parentWidth),e)},u.hasBreakpointColumn=function(t){for(var e in u.columns)if(u.columns[e].hide[t]){if(u.columns[e].ignore)continue;return!0}return!1},u.hasAnyBreakpointColumn=function(){for(var t in u.columns)if(u.columns[t].hasBreakpoint)return!0;return!1},u.resize=function(){var t=m(u.table);if(t.is(":visible"))if(u.hasAnyBreakpointColumn()){var e={width:t.width(),viewportWidth:u.getViewportWidth(),parentWidth:t.parent().width()},e=u.calculateWidth(t,e),a=t.data("footable_info");if(t.data("footable_info",e),u.raise(f.resizing,{old:a,info:e}),!a||a&&a.width&&a.width!==e.width){for(var n,i=null,r=0;u.breakpoints.length>r;r++)if((n=u.breakpoints[r])&&n.width&&e.width<=n.width){i=n;break}var o=null===i?"default":i.name,s=u.hasBreakpointColumn(o),l=t.data("breakpoint");t.data("breakpoint",o).removeClass("default breakpoint").removeClass(u.breakpointNames).addClass(o+(s?" breakpoint":"")),o!==l&&(t.trigger(c.redraw),u.raise(f.breakpoint,{breakpoint:o,info:e}))}u.raise(f.resized,{old:a,info:e})}else t.trigger(c.redraw)},u.redraw=function(){u.addRowToggle(),u.bindToggleSelectors(),u.setColumnClasses();var r=m(u.table),o=r.data("breakpoint"),e=u.hasBreakpointColumn(o);r.find("> tbody > tr:not(."+s.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var t=u.columns[m(this).index()],a="",n=!0;m.each(t.matches,function(t,e){n||(a+=", ");e+=1;a+="> tbody > tr:not(."+s.detail+") > td:nth-child("+e+")",a+=", > tfoot > tr:not(."+s.detail+") > td:nth-child("+e+")",a+=", > colgroup > col:nth-child("+e+")",n=!1}),a+=', > thead > tr[data-group-row="true"] > th[data-group="'+t.group+'"]';var e,i=r.find(a).add(this);""!==o&&(!1===t.hide[o]?i.addClass("footable-visible").show():i.removeClass("footable-visible").hide()),1===r.find("> thead > tr.footable-group-row").length&&(i=r.find('> thead > tr:last-child > th[data-group="'+t.group+'"]:visible, > thead > tr:last-child > th[data-group="'+t.group+'"]:visible'),t=r.find('> thead > tr.footable-group-row > th[data-group="'+t.group+'"], > thead > tr.footable-group-row > td[data-group="'+t.group+'"]'),e=0,m.each(i,function(){e+=parseInt(m(this).attr("colspan")||1,10)}),0<e?t.attr("colspan",e).show():t.hide())}).end().find("> tbody > tr."+s.detailShow).each(function(){u.createOrUpdateDetailRow(this)}),r.find("[data-bind-name]").each(function(){u.toggleInput(this)}),r.find("> tbody > tr."+s.detailShow+":visible").each(function(){var t=m(this).next();t.hasClass(s.detail)&&(e?t.show():t.hide())}),r.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column"),r.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column"),r.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column"),u.raise(f.redrawn)},u.toggleDetail=function(t){var e=t.jquery?t:m(t),t=e.next();e.hasClass(s.detailShow)?(e.removeClass(s.detailShow),t.hasClass(s.detail)&&t.hide(),u.raise(f.rowCollapsed,{row:e[0]})):(u.createOrUpdateDetailRow(e[0]),e.addClass(s.detailShow).next().show(),u.raise(f.rowExpanded,{row:e[0]}))},u.removeRow=function(t){var e=t.jquery?t:m(t),t=(e=e.hasClass(s.detail)?e.prev():e).next();!0===e.data("detail_created")&&t.remove(),e.remove(),u.raise(f.rowRemoved)},u.appendRow=function(t){t=t.jquery?t:m(t);m(u.table).find("tbody").append(t),u.redraw()},u.getColumnFromTdIndex=function(t){var e,a=null;for(e in u.columns)if(0<=m.inArray(t,u.columns[e].matches)){a=u.columns[e];break}return a},u.createOrUpdateDetailRow=function(t){var e=m(t),a=e.next(),o=[];if(!0===e.data("detail_created"))return!0;if(e.is(":hidden"))return!1;if(u.raise(f.rowDetailUpdating,{row:e,detail:a}),e.find("> td:hidden").each(function(){var t=m(this).index(),e=u.getColumnFromTdIndex(t),a=e.name;if(!0===e.ignore)return!0;t in e.names&&(a=e.names[t]);var n,i,r=m(this).attr("data-bind-name");return null!=r&&m(this).is(":empty")&&(n=m("."+s.detailInnerValue+'[data-bind-value="'+r+'"]'),m(this).html(m(n).contents().detach())),!1!==e.isEditable&&(e.isEditable||0<m(this).find(":input").length)&&(null==r&&(r="bind-"+m.now()+"-"+t,m(this).attr("data-bind-name",r)),i=m(this).contents().detach()),i=i||m(this).contents().clone(!0,!0),o.push({name:a,value:u.parse(this,e),display:i,group:e.group,groupName:e.groupName,bindName:r}),!0}),0===o.length)return!1;var n=e.find("> td:visible").length,t=a.hasClass(s.detail);return t||(a=m('<tr class="'+s.detail+'"><td class="'+s.detailCell+'"><div class="'+s.detailInner+'"></div></td></tr>'),e.after(a)),a.find("> td:first").attr("colspan",n),n=a.find("."+s.detailInner).empty(),p.createDetail(n,o,p.createGroupedDetail,p.detailSeparator,s),e.data("detail_created",!0),u.raise(f.rowDetailUpdated,{row:e,detail:a}),!t},u.raise=function(t,e){!0===u.options.debug&&m.isFunction(u.options.log)&&u.options.log(t,"event");var a={ft:u};m.extend(!0,a,e=e||{});t=m.Event(t,a);return t.ft||m.extend(!0,t,a),m(u.table).trigger(t),t},u.reset=function(){var t=m(u.table);t.removeData("footable_info").data("breakpoint","").removeClass(s.loading).removeClass(s.loaded),t.find(p.toggleSelector).unbind(c.toggleRow).unbind("click.footable"),t.find("> tbody > tr").removeClass(s.detailShow),t.find("> tbody > tr."+s.detail).remove(),u.raise(f.reset)},u.toggleInput=function(t){var e=m(t).attr("data-bind-name");null==e||null!=(e=m("."+s.detailInnerValue+'[data-bind-value="'+e+'"]'))&&(m(t).is(":visible")?m(e).is(":empty")||m(t).html(m(e).contents().detach()):m(t).is(":empty")||m(e).html(m(t).contents().detach()))},u.init(),u}i.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(t){return m(t).data("value")||m.trim(m(t).text())},numeric:function(t){t=m(t).data("value")||m(t).text().replace(/[^0-9.\-]/g,""),t=parseFloat(t);return t=isNaN(t)?0:t}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(t){for(var e={_none:{name:null,data:[]}},a=0;t.length>a;a++){var n=t[a].group;null!==n?(n in e||(e[n]={name:t[a].groupName||t[a].group,data:[]}),e[n].data.push(t[a])):e._none.data.push(t[a])}return e},createDetail:function(t,e,a,n,i){var r,o=a(e);for(r in o)if(0!==o[r].data.length){"_none"!==r&&t.append('<div class="'+i.detailInnerGroup+'">'+o[r].name+"</div>");for(var s=0;o[r].data.length>s;s++){var l=o[r].data[s].name?n:"";t.append(m("<div></div>").addClass(i.detailInnerRow).append(m("<div></div>").addClass(i.detailInnerName).append(o[r].data[s].name+l)).append(m("<div></div>").addClass(i.detailInnerValue).attr("data-bind-value",o[r].data[s].bindName).append(o[r].data[s].display)))}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return i.footable.version.major+"."+i.footable.version.minor},parse:function(t){t=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(t);return{major:parseInt(t[1],10)||0,minor:parseInt(t[2],10)||0,patch:parseInt(t[3],10)||0}}},plugins:{_validate:function(t){if(!m.isFunction(t))return!0===i.footable.options.debug&&console.error('Validation failed, expected type "function", received type "{0}".',typeof t),!1;t=new t;return"string"!=typeof t.name?(!0===i.footable.options.debug&&console.error('Validation failed, plugin does not implement a string property called "name".',t),!1):m.isFunction(t.init)?(!0===i.footable.options.debug&&console.log('Validation succeeded for plugin "'+t.name+'".',t),!0):(!0===i.footable.options.debug&&console.error('Validation failed, plugin "'+t.name+'" does not implement a function called "init".',t),!1)},registered:[],register:function(t,e){i.footable.plugins._validate(t)&&(i.footable.plugins.registered.push(t),"object"==typeof e&&m.extend(!0,i.footable.options,e))},load:function(t){for(var e,a=[],n=0;i.footable.plugins.registered.length>n;n++)try{e=i.footable.plugins.registered[n],a.push(new e(t))}catch(t){!0===i.footable.options.debug&&console.error(t)}return a},init:function(t){for(var e=0;t.plugins.length>e;e++)try{t.plugins[e].init(t)}catch(t){!0===i.footable.options.debug&&console.error(t)}}}};var r=0;m.fn.footable=function(t){var e=m.extend(!0,{},i.footable.options,t=t||{});return this.each(function(){var t=new a(this,e,++r);m(this).data("footable",t)})}}(jQuery,window),function(o,t){if(void 0===t.footable||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var e={filter:{enabled:!0,input:".footable-filter",timeout:300,minimum:2,disableEnter:!1,filterFunction:function(){var t=o(this),e=t.parents("table:first"),a=e.data("current-filter").toUpperCase(),n=t.find("td").text();return e.data("filter-text-only")||t.find("td[data-value]").each(function(){n+=o(this).data("value")}),0<=n.toUpperCase().indexOf(a)}}};t.footable.plugins.register(function(){var r=this;r.name="Footable Filter",r.init=function(a){!0!==(r.footable=a).options.filter.enabled||!1!==o(a.table).data("filter")&&(a.timers.register("filter"),o(a.table).unbind(".filtering").bind({"footable_initialized.filtering":function(){var t=o(a.table),e={input:t.data("filter")||a.options.filter.input,timeout:t.data("filter-timeout")||a.options.filter.timeout,minimum:t.data("filter-minimum")||a.options.filter.minimum,disableEnter:t.data("filter-disable-enter")||a.options.filter.disableEnter};e.disableEnter&&o(e.input).keypress(function(t){return window.event?13!==window.event.keyCode:13!==t.which}),t.bind("footable_clear_filter",function(){o(e.input).val(""),r.clearFilter()}),t.bind("footable_filter",function(t,e){r.filter(e.filter)}),o(e.input).keyup(function(t){a.timers.filter.stop(),27===t.which&&o(e.input).val(""),a.timers.filter.start(function(){var t=o(e.input).val()||"";r.filter(t)},e.timeout)})},"footable_redrawn.filtering":function(){var t=o(a.table).data("filter-string");t&&r.filter(t)}}).data("footable-filter",r))},r.filter=function(t){var a,n=r.footable,i=o(n.table),e=i.data("filter-minimum")||n.options.filter.minimum,t=n.raise("footable_filtering",{filter:t,clear:!t});t&&!1===t.result||t.filter&&e>t.filter.length||(t.clear?r.clearFilter():(e=t.filter.split(" "),i.find("> tbody > tr").hide().addClass("footable-filtered"),a=i.find("> tbody > tr:not(.footable-row-detail)"),o.each(e,function(t,e){e&&0<e.length&&(i.data("current-filter",e),a=a.filter(n.options.filter.filterFunction))}),a.each(function(){r.showRow(this,n),o(this).removeClass("footable-filtered")}),i.data("filter-string",t.filter),n.raise("footable_filtered",{filter:t.filter,clear:!1})))},r.clearFilter=function(){var t=r.footable,e=o(t.table);e.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){r.showRow(this,t)}),e.removeData("filter-string"),t.raise("footable_filtered",{clear:!0})},r.showRow=function(t,e){var a=o(t),n=a.next(),i=o(e.table);a.is(":visible")||(i.hasClass("breakpoint")&&a.hasClass("footable-detail-show")&&n.hasClass("footable-row-detail")?(a.add(n).show(),e.createOrUpdateDetailRow(t)):a.show())}},e)}(jQuery,window),function(l,t){function a(t){var e=l(t.table).data();this.pageNavigation=e.pageNavigation||t.options.pageNavigation,this.pageSize=e.pageSize||t.options.pageSize,this.firstText=e.firstText||t.options.firstText,this.previousText=e.previousText||t.options.previousText,this.nextText=e.nextText||t.options.nextText,this.lastText=e.lastText||t.options.lastText,this.limitNavigation=parseInt(e.limitNavigation||t.options.limitNavigation||n.limitNavigation,10),this.limitPreviousText=e.limitPreviousText||t.options.limitPreviousText,this.limitNextText=e.limitNextText||t.options.limitNextText,this.limit=0<this.limitNavigation,this.currentPage=e.currentPage||0,this.pages=[],this.control=!1}if(void 0===t.footable||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var n={paginate:!0,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};t.footable.plugins.register(function(){var s=this;s.name="Footable Paginate",s.init=function(t){!0===t.options.paginate&&!1!==l(t.table).data("page")&&(s.footable=t,l(t.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){s.setupPaging()}}).data("footable-paging",s))},s.setupPaging=function(){var t=s.footable,e=l(t.table).find("> tbody");t.pageInfo=new a(t),s.createPages(t,e),s.createNavigation(t,e),s.fillPage(t,e,t.pageInfo.currentPage)},s.createPages=function(t,e){var a=1,n=t.pageInfo,i=a*n.pageSize,r=[],o=[];n.pages=[];var s=e.find("> tr:not(.footable-filtered,.footable-row-detail)");s.each(function(t,e){r.push(e),t===i-1?(n.pages.push(r),i=++a*n.pageSize,r=[]):t>=s.length-s.length%n.pageSize&&o.push(e)}),0<o.length&&n.pages.push(o),n.currentPage>=n.pages.length&&(n.currentPage=n.pages.length-1),n.currentPage<0&&(n.currentPage=0),1===n.pages.length?l(t.table).addClass("no-paging"):l(t.table).removeClass("no-paging")},s.createNavigation=function(i){var r,o=l(i.table).find(i.pageInfo.pageNavigation);if(0===o.length){if(0<(o=l(i.pageInfo.pageNavigation)).parents("table:first").length&&o.parents("table:first")!==l(i.table))return;1<o.length&&!0===i.options.debug&&console.error("More than one pagination control was found!")}0!==o.length&&(o.is("ul")||(0===o.find("ul:first").length&&o.append("<ul />"),o=o.find("ul")),o.find("li").remove(),(r=i.pageInfo).control=o,0<r.pages.length&&(o.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+i.pageInfo.firstText+"</a>"),o.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+i.pageInfo.previousText+"</a></li>"),r.limit&&o.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+i.pageInfo.limitPreviousText+"</a></li>"),r.limit||l.each(r.pages,function(t,e){0<e.length&&o.append('<li class="footable-page"><a data-page="'+t+'" href="#">'+(t+1)+"</a></li>")}),r.limit&&(o.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+i.pageInfo.limitNextText+"</a></li>"),s.createLimited(o,r,0)),o.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+i.pageInfo.nextText+"</a></li>"),o.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+i.pageInfo.lastText+"</a></li>")),o.off("click","a[data-page]").on("click","a[data-page]",function(t){t.preventDefault();var e,a=l(this).data("page"),t=r.currentPage;if("first"===a?t=0:"prev"===a?0<t&&t--:"next"===a?r.pages.length-1>t&&t++:"last"===a?t=r.pages.length-1:"limit-prev"===a?(t=-1,e=o.find(".footable-page:first a").data("page"),s.createLimited(o,r,e-r.limitNavigation),s.setPagingClasses(o,r.currentPage,r.pages.length)):"limit-next"===a?(t=-1,e=o.find(".footable-page:last a").data("page"),s.createLimited(o,r,e+1),s.setPagingClasses(o,r.currentPage,r.pages.length)):t=a,0<=t){if(r.limit&&r.currentPage!=t){for(var n=t;0!=n%r.limitNavigation;)--n;s.createLimited(o,r,n)}s.paginate(i,t)}}),s.setPagingClasses(o,r.currentPage,r.pages.length))},s.createLimited=function(t,e,a){a=a||0,t.find("li.footable-page").remove();for(var n,i=t.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),t=t.find('li.footable-page-arrow > a[data-page="limit-next"]').parent(),r=e.pages.length-1;0<=r;r--)n=e.pages[r],a<=r&&a+e.limitNavigation>r&&0<n.length&&i.after('<li class="footable-page"><a data-page="'+r+'" href="#">'+(r+1)+"</a></li>");0===a?i.hide():i.show(),a+e.limitNavigation>=e.pages.length?t.hide():t.show()},s.paginate=function(t,e){var a,n,i=t.pageInfo;i.currentPage!==e&&(a=l(t.table).find("> tbody"),(n=t.raise("footable_paging",{page:e,size:i.pageSize}))&&!1===n.result||(s.fillPage(t,a,e),i.control.find("li").removeClass("active disabled"),s.setPagingClasses(i.control,i.currentPage,i.pages.length)))},s.setPagingClasses=function(t,e,a){t.find("li.footable-page > a[data-page="+e+"]").parent().addClass("active"),a-1<=e&&(t.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")),e<1&&(t.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled"))},s.fillPage=function(t,e,a){t.pageInfo.currentPage=a,l(t.table).data("currentPage",a),e.find("> tr").hide(),l(t.pageInfo.pages[a]).each(function(){s.showRow(this,t)}),t.raise("footable_page_filled")},s.showRow=function(t,e){var a=l(t),n=a.next();l(e.table).hasClass("breakpoint")&&a.hasClass("footable-detail-show")&&n.hasClass("footable-row-detail")?(a.add(n).show(),e.createOrUpdateDetailRow(t)):a.show()}},n)}(jQuery,window),function(d,t,h){if(t.footable===h||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var c=this;c.name="Footable Sortable",c.init=function(o){!0===(c.footable=o).options.sort&&d(o.table).unbind(".sorting").bind({"footable_initialized.sorting":function(){var t,e,a=d(o.table),n=(a.find("> tbody"),o.options.classes.sort);if(!1!==a.data("sort")){a.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){var t=d(this);!0===o.columns[t.index()].sort.ignore||t.hasClass(n.sortable)||(t.addClass(n.sortable),d("<span />").addClass(n.indicator).appendTo(t))}),a.find("> thead > tr:last-child > th."+n.sortable+", > thead > tr:last-child > td."+n.sortable).unbind("click.footable").bind("click.footable",function(t){t.preventDefault();t=!(e=d(this)).hasClass(n.sorted);return c.doSort(e.index(),t),!1});for(var i in o.columns)if(t=o.columns[i],t.sort.initial){var r="descending"!==t.sort.initial;c.doSort(t.index,r);break}}},"footable_redrawn.sorting":function(){var t=d(o.table),a=o.options.classes.sort;0<=t.data("sorted")&&t.find("> thead > tr:last-child > th").each(function(t){var e=d(this);return(e.hasClass(a.sorted)||e.hasClass(a.descending))&&c.doSort(t),h})},"footable_column_data.sorting":function(t){var e=d(t.column.th);t.column.data.sort=t.column.data.sort||{},t.column.data.sort.initial=e.data("sort-initial")||!1,t.column.data.sort.ignore=e.data("sort-ignore")||!1,t.column.data.sort.selector=e.data("sort-selector")||null;e=e.data("sort-match")||0;e>=t.column.data.matches.length&&(e=0),t.column.data.sort.match=t.column.data.matches[e]}}).data("footable-sort",c)},c.doSort=function(t,e){var a=c.footable;if(!1!==d(a.table).data("sort")){var n=d(a.table),i=n.find("> tbody"),r=a.columns[t],o=n.find("> thead > tr:last-child > th:eq("+t+")"),s=a.options.classes.sort,l=a.options.events.sort;if(e=e===h?o.hasClass(s.sorted):"toggle"===e?!o.hasClass(s.sorted):e,!0===r.sort.ignore)return!0;t=a.raise(l.sorting,{column:r,direction:e?"ASC":"DESC"});t&&!1===t.result||(n.data("sorted",r.index),n.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(o).removeClass(s.sorted+" "+s.descending),(e=e===h?o.hasClass(s.sorted):e)?o.removeClass(s.descending).addClass(s.sorted):o.removeClass(s.sorted).addClass(s.descending),c.sort(a,i,r,e),a.bindToggleSelectors(),a.raise(l.sorted,{column:r,direction:e?"ASC":"DESC"}))}},c.rows=function(a,t,n){var i=[];return t.find("> tr").each(function(){var t=d(this),e=null;if(t.hasClass(a.options.classes.detail))return!0;t.next().hasClass(a.options.classes.detail)&&(e=t.next().get(0));e={row:t,detail:e};return n!==h&&(e.value=a.parse(this.cells[n.sort.match],n)),i.push(e),!0}).detach(),i},c.sort=function(t,e,a,n){var i=c.rows(t,e,a),r=t.options.sorters[a.type]||t.options.sorters.alpha;i.sort(function(t,e){return n?r(t.value,e.value):r(e.value,t.value)});for(var o=0;i.length>o;o++)e.append(i[o].row),null!==i[o].detail&&e.append(i[o].detail)}},{sort:!0,sorters:{alpha:function(t,e){return(t="string"==typeof t?t.toLowerCase():t)===(e="string"==typeof e?e.toLowerCase():e)?0:t<e?-1:1},numeric:function(t,e){return t-e}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}})}(jQuery,window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(r,n){var a="plugin_hideShowPassword",i=["show","innerToggle"],e={show:"infer",innerToggle:!1,enable:function(){var t=document.body,e=document.createElement("input"),a=!0,e=(t=t||document.createElement("body")).appendChild(e);try{e.setAttribute("type","text")}catch(t){a=!1}return t.removeChild(e),a}(),className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"!=typeof Modernizr&&Modernizr.touchevents,attachToEvent:"click.hideShowPassword",attachToTouchEvent:"touchstart.hideShowPassword mousedown.hideShowPassword",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",title:"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true",title:"Hide Password"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false",title:"Show Password"}}}}};function o(t,e){this.element=r(t),this.wrapperElement=r(),this.toggleElement=r(),this.init(e)}o.prototype={init:function(t){this.update(t,e)&&(this.element.addClass(this.options.className),this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),"string"==typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,r.proxy(function(){this.toggleElement.show()},this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(t,e){return this.options=this.prepareOptions(t,e),this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]),this.options.enable},toggle:function(t){return this.update({show:t=t||"toggle"})},prepareOptions:function(t,e){var a,n=t||{},i=[];if(e=e||this.options,t=r.extend(!0,{},e,t),n.hasOwnProperty("wrapper")&&n.wrapper.hasOwnProperty("inheritStyles")&&(t.wrapper.inheritStyles=n.wrapper.inheritStyles),t.enable&&("toggle"===t.show?t.show=this.isType("hidden",t.states):"infer"===t.show&&(t.show=this.isType("shown",t.states)),"infer"===t.toggle.position&&(t.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!r.isArray(t.toggle.attachToKeyCodes))){if(!0===t.toggle.attachToKeyCodes)switch((a=r(t.toggle.element)).prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(a.filter("[href]").length){i.push(32);break}default:i.push(32,13)}t.toggle.attachToKeyCodes=i}return t},updateElement:function(){return!(!this.options.enable||this.isType())&&(this.element.prop(r.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className),this.updateToggle(),!0)},isType:function(t,e){return(e=e||this.options.states)[t=t||this.state(n,n,e).props.type]&&(t=e[t].props.type),this.element.prop("type")===t},state:function(t,e,a){return a=a||this.options.states,"boolean"==typeof(t=t===n?this.options.show:t)&&(t=t?"shown":"hidden"),a[t=e?"shown"===t?"hidden":"shown":t]},otherState:function(t){return this.state(t,!0)},wrapElement:function(a){var t,e=a.enforceWidth;return this.wrapperElement.length||(t=this.element.outerWidth(),r.each(a.inheritStyles,r.proxy(function(t,e){a.styles[e]=this.element.css(e)},this)),this.element.css(a.innerElementStyles).wrap(r(a.element).addClass(a.className).css(a.styles)),this.wrapperElement=this.element.parent(),!1!==(e=!0===e?this.wrapperElement.outerWidth()!==t&&t:e)&&this.wrapperElement.css("width",e)),this.wrapperElement},initToggle:function(t){return this.toggleElement.length||(this.toggleElement=r(t.element).attr(t.attr).addClass(t.className).css(t.styles).appendTo(this.wrapperElement),this.updateToggle(),this.positionToggle(t.position,t.verticalAlign,t.offset),t.touchSupport?(this.toggleElement.css(t.touchStyles),this.element.on(t.attachToTouchEvent,r.proxy(this.toggleTouchEvent,this))):this.toggleElement.on(t.attachToEvent,r.proxy(this.toggleEvent,this)),t.attachToKeyCodes.length&&this.toggleElement.on(t.attachToKeyEvent,r.proxy(this.toggleKeyEvent,this))),this.toggleElement},positionToggle:function(t,e,a){var n={};switch(n[t]=a,e){case"top":case"bottom":n[e]=a;break;case"middle":n.top="50%",n.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(n)},updateToggle:function(t,e){var a;return this.toggleElement.length&&(a="padding-"+this.options.toggle.position,t=t||this.state().toggle,e=e||this.otherState().toggle,this.toggleElement.attr(t.attr).addClass(t.className).removeClass(e.className).html(t.content),t=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(a)!==t&&this.element.css(a,t)),this.toggleElement},toggleEvent:function(t){t.preventDefault(),this.toggle()},toggleKeyEvent:function(a){r.each(this.options.toggle.attachToKeyCodes,r.proxy(function(t,e){if(a.which===e)return this.toggleEvent(a),!1},this))},toggleTouchEvent:function(t){var e,a,n=this.toggleElement.offset().left;n&&(a=t.pageX||t.originalEvent.pageX,a="left"===this.options.toggle.position?(e=a,n+=this.toggleElement.outerWidth()):(e=n,a),e<=a&&this.toggleEvent(t))}},r.fn.hideShowPassword=function(){var n={};return r.each(arguments,function(t,e){var a={};if("object"==typeof e)a=e;else{if(!i[t])return!1;a[i[t]]=e}r.extend(!0,n,a)}),this.each(function(){var t=r(this),e=t.data(a);e?e.update(n):t.data(a,new o(this,n))})},r.each({show:!0,hide:!1,toggle:"toggle"},function(t,a){r.fn[t+"Password"]=function(t,e){return this.hideShowPassword(a,t,e)}})}),jQuery(document).ready(function(t){jQuery().datepicker&&t("input.wpas-date").length&&"date"!=t("input.wpas-date:first").prop("type")&&t("input.wpas-date").datepicker()}),function(n){"use strict";n(function(){var e,a,t;n(".wpas-modal-trigger").featherlight(),n("#wpas_form_registration").on("change",'input[name="wpas_pwdshow[]"]',function(t){t.preventDefault(),n("#wpas_password").hideShowPassword(n(this).prop("checked"))}),"undefined"!=typeof wpas&&stringToBool(wpas.emailCheck)&&n("#wpas_form_registration").length&&(e=n("#wpas_form_registration #wpas_email"),(a=n('<div class="wpas-help-block" id="wpas_emailvalidation"></div>')).appendTo(n("#wpas_email_wrapper")).hide(),e.on("change",function(){e.addClass("wpas-form-control-loading"),t={action:"email_validation",email:e.val()},n.post(wpas.ajaxurl,t,function(t){a.html(t).show(),e.removeClass("wpas-form-control-loading")})}),a.on("click","strong",function(){e.val(n(this).html()),a.hide()}))})}(jQuery),function(s){"use strict";s(function(){var e,a,n,i,r,o,t;"undefined"!=typeof wpas&&s(".wpas-ticket-replies").length&&s(".wpas-pagi").length&&(e=s(".wpas-ticket-replies tbody"),a=s(".wpas-pagi"),n=s(".wpas-pagi-loadmore"),i=s(".wpas-replies-current"),r=s(".wpas-replies-total"),o={action:"wpas_load_replies",ticket_id:wpas.ticket_id,ticket_replies_total:0},t=s(".wpas-pagi-text").outerHeight(),s(".wpas-pagi-loader").css({width:t,height:t}),n.on("click",function(t){t.preventDefault(),o.ticket_replies_total=e.find("tr.wpas-reply-single").length-1,a.addClass("wpas-pagi-loading"),s.post(wpas.ajaxurl,o,function(t){t=s.parseJSON(t),a.removeClass("wpas-pagi-loading"),i.text(t.current),r.text(t.total),t.current==t.total&&n.hide(),s(t.html).appendTo(e).addClass("wpas-reply-single-added").delay(900).queue(function(){s(this).removeClass("wpas-reply-single-added").dequeue()})})}))})}(jQuery),jQuery(document).ready(function(t){jQuery().select2&&t("select.wpas-select2").length&&t("select.wpas-select2").select2()}),function(i){"use strict";i(function(){i(".wpas-reply-content").length&&i(".wpas-reply-content").each(function(t,e){"undefined"!=typeof wpas&&stringToBool(wpas.useAutolinker)&&(e.innerHTML=Autolinker.link(e.innerHTML))});var t=i("#wpas-new-reply"),e=i('textarea[name="wpas_user_reply"]'),n=i('input[name="wpas_close_ticket"]');t.on("change",n,function(){e.is(":visible")&&e.prop("required",n.is(":checked"))}),"undefined"!=typeof tinyMCE?i(".wpas-form").submit(function(t){var e=i('[type="submit"]',i(this)),a=tinyMCE.activeEditor.getContent();if(!(n.is(":checked")||""!==a&&null!==a))return i(tinyMCE.activeEditor.getBody()).css("background-color","#ffeeee"),alert(wpas.translations.emptyEditor),i(tinyMCE.activeEditor.getBody()).css("background-color",""),tinyMCE.activeEditor.focus(),!1;e.prop("disabled",!0).text(wpas.translations.onSubmit)}):i(".wpas-form").submit(function(t){var e=i('[type="submit"]',i(this)),a=e.attr("data-onsubmit")?e.attr("data-onsubmit"):wpas.translations.onSubmit;e.prop("disabled",!0).text(a)})})}(jQuery),function(r){"use strict";r(function(){var e=r("#wpas_ticketlist"),t=r("#wpas_ticketlist > tbody > tr"),a=t.length,n=r("#wpas_ticketlist_filters");!1!==(e.length&&5<=a&&r.fn.footable&&"undefined"!=typeof wpas)?function(){var a=r(".wpas-filter-status");e.footable(),e.footable().bind("footable_filtering",function(t){var e=a.find(":selected").val();e&&0<e.length&&(t.filter+=t.filter&&0<t.filter.length?" "+e:e,t.clear=!t.filter)});var n=[],i="";t.each(function(t,e){e=r(e).find(".wpas-label-status").text();-1==n.indexOf(e)&&(n.push(e),i+='<option value="'+e+'">'+e+"</option>")}),1<n.length?a.append(i):a.hide();a.change(function(t){t.preventDefault(),e.trigger("footable_filter",{filter:r("#wpas_filter").val()})}),r(".wpas-clear-filter").click(function(t){t.preventDefault(),a.val(""),e.trigger("footable_clear_filter")})}():n.hide()})}(jQuery),function(i){"use strict";i(function(){var e;"undefined"!=typeof wpas&&wpas.fileUploadMax&&(e=i("#wpas_files")).on("change",function(t){t.preventDefault();var a=[];i.each(e.get(0).files,function(t,e){e.size>wpas.fileUploadSize&&a.push(e.name)}),0!==a.length&&(alert(wpas.fileUploadMaxSizeError[0]+"\n\n"+a.join("\n")+".\n\n"+wpas.fileUploadMaxSizeError[1]),clearFileInput(e[0])),parseInt(e.get(0).files.length)>parseInt(wpas.fileUploadMax,10)&&(alert(wpas.fileUploadMaxError),clearFileInput(e[0]))}),i("body").delegate(".btn_delete_attachment","click",function(t){t.preventDefault();var e=i(this),a=i('<span class="spinner" style="visibility: visible;margin-left: 0;float: left;margin-top: 0;"></span>');a.insertAfter(e),e.hide();var n=i(this).data("parent_id"),t=i(this).data("att_id");i.post(ajaxurl,{action:"wpas_delete_attachment",parent_id:n,att_id:t},function(t){e.show(),a.remove(),t.success&&e.closest("li").html(t.data.msg)})}),i("#wpas-new-reply .wpas-auto-delete-attachments-container input[type=checkbox]").change(function(){var e=i(this),a=i('<span class="spinner" style="visibility: visible;margin-left: 0;float: left;margin-top: 0;"></span>');a.insertAfter(e),e.hide();var t={action:"wpas_auto_delete_attachment_flag",ticket_id:wpas.ticket_id,auto_delete:e.is(":checked")?"1":"0"};i.post(ajaxurl,t,function(t){e.show(),a.remove()})})})}(jQuery),function(n){n(function(){function a(t){t.removeClass("is-expanded").addClass("is-collapsed"),n(".card").not(t).removeClass("is-inactive"),t.trigger("card_collapsed")}Window.close_card=a,n("body").delegate(".wpas_cards .card .js-expander","click",function(){var t=n(this).closest(".card"),e=n(".card");t.hasClass("is-collapsed")?(e.not(t).removeClass("is-expanded").addClass("is-collapsed").addClass("is-inactive"),t.removeClass("is-collapsed").addClass("is-expanded"),t.trigger("card_expanded"),e.not(t).hasClass("is-inactive")||e.not(t).addClass("is-inactive")):a(t)}),n("body").delegate(".card_expanded_inner .btn-close","click",function(){a(n(this).closest(".card"))})})}(jQuery);
//# sourceMappingURL=public-dist.js.map